```javascript
// äºŒåˆ†æŸ¥æ‰¾ å¯»æ‰¾å¢åºæ•°ç»„é‡Œæœ€åä¸€æ¬¡å‡ºç°çš„æ•°ç»„å…ƒç´  æ‰¾ä¸åˆ°è¿”å›-1 å­—èŠ‚è·³åŠ¨2018é¢è¯•é¢˜
/*
* 1. mid é•¿åº¦ä¸ºå¥‡æ•°æ—¶ æ˜¯ä¸­é—´å…ƒç´  å¶æ•°æ—¶ ä½†æ˜¯ æ˜¯ä¸­é—´çš„å…ƒç´ 
  2. midä½ç½®çš„å…ƒç´ å’Œtargeæ¯”è¾ƒ å¦‚æœ arr[mid] >= target 
    é‚£ä¹ˆè¦æ‰¾çš„æœ€åä¸€ä¸ªtarget å¯èƒ½åœ¨ mid å¤„æˆ–è€…midå·¦è¾¹ æˆ–è€…å³è¾¹ æ— æ³•åˆ¤æ–­
    arr[mid] <= target å¯èƒ½åœ¨ midå¤„ æˆ–è€… midçš„å³è¾¹ mid å·¦è¾¹å°½ç®¡æœ‰ ä¹Ÿä¸æ˜¯æœ€å³è¾¹çš„é‚£ä¸ª
    æ­¤æ—¶left = mid ä¸æ˜¯mid + 1 æ˜¯å› ä¸º å¯èƒ½ midå¤„çš„å°±æ˜¯è¦æ‰¾çš„é‚£ä¸ª
    åè¿‡æ¥ arr[mid] > target é‚£ä¹ˆè¦æ‰¾çš„é‚£ä¸ªå€¼åœ¨midçš„å·¦è¾¹ right = mid -1
    åˆ¤æ–­ left < right æ‰ä¼šæ‰§è¡Œå¾ªç¯ä½“ 
    å‡å¦‚ left = length - 2 right = length - 1  å‘ç”Ÿè¿™ç§æƒ…å†µçš„æ˜¯ï¼š
    targetå¾ˆå¤§ æ•°ç»„é‡Œæ²¡æœ‰
    right - left <= 1 target å’Œ arr[left] arr[right] æ¯”è¾ƒ å“ªä¸ªç›¸ç­‰è¿”å›å“ªä¸ª ç´¢å¼•
    æ­¤æ—¶ mid æ€»æ˜¯ç­‰äº left
*/
function binary(data, target){
    let left = 0;
    let right = data.length - 1;
    let mid = 0;
    while( right - left > 1 ){
        mid = parseInt((left + right) / 2);
        if( data[mid] <= target ){
            left = mid;
        }else{
            right = mid - 1;
        }
    }
    if( data[right] === target ){
        console.log(right);
        return;
    }
    if( data[left] === target ){
        console.log(left);
        return;
    }
    console.log(-1);
}

binary( [1, 2, 3, 3, 3, 4, 5, 5, 5, 6], 3 );
// æ‰“å° 4
```

```javascript
// å¤ä¹ ğŸŒ¹
// å¤ä¹ äºŒåˆ†æ³•æŸ¥æ‰¾ 
// æœ‰åº ä¸”å¯ä»¥ç«‹å³å®šä½ ã€æœ‰ç´¢å¼•å€¼ å¦‚æ•°ç»„ï¼ã€‘
// å¢åº
// æ‰¾æœ€åä¸€æ¬¡å‡ºç°çš„target
function binary(arr, target) {
    let left = 0;
    let right = arr.length - 1;
    let mid = 0;

    while (right - left > 1) {
        mid = parseInt((left + right) / 2); // js ä¸­ ï¼ ä¸æ˜¯åªä¿ç•™æ•´æ•°ä½ è€Œæ˜¯æœ‰å°æ•°ä½ å½“é•¿åº¦æ˜¯å¶æ•°æ—¶ ç”¨åˆ°  å‘ä¸‹å–æ•´
        if (arr[mid] <= target) {
            left = mid;
        } else {
            right = mid - 1;
        }
        // if (arr[mid] >= target) {
        //     right = mid;
        // } else {
        //     left = mid + 1;
        // }
    }
    if (arr[left] === target) {
        return left;
    }
    if (arr[right] === target) {
        return right;
    }
    return -1;
}
console.log(binary([1, 2, 3, 4, 5, 5, 5, 6, 7], 5));

// å¦‚æœæ‰¾ç¬¬ä¸€ä¸ªå‡ºç°çš„ï¼Ÿ
// if (arr[mid] >= target) {
//     right = mid;
// } else {
//     left = mid + 1;
// }
```
